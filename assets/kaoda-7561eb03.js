import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";import{c as i,A as q,r as M,a as w,b as $,o as C,d as I,w as v,F as W,e as L,t as g,f as r,g as G,h as S,p as T,i as V,j as A,k as B,u as H,l as X,m as Q}from"./index-4902a5e3.js";import{C as N}from"./charts-3734005e.js";var Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"}}]},name:"like",theme:"filled"};const Z=Y;function j(p){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?Object(arguments[a]):{},e=Object.keys(l);typeof Object.getOwnPropertySymbols=="function"&&(e=e.concat(Object.getOwnPropertySymbols(l).filter(function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),e.forEach(function(d){aa(p,d,l[d])})}return p}function aa(p,a,l){return a in p?Object.defineProperty(p,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):p[a]=l,p}var F=function(a,l){var e=j({},a,l.attrs);return i(q,j({},e,{icon:Z}),null)};F.displayName="LikeFilled";F.inheritAttrs=!1;const ea=F,ta="/Joker/assets/b-329b543e.png";const P=p=>(T("data-v-d502ea94"),p=p(),V(),p),na={class:"table-container"},sa=P(()=>r("span",{class:"label-icon"},"üìä",-1)),la=P(()=>r("span",{class:"label-icon"},"‚ö°",-1)),oa=P(()=>r("span",{class:"label-icon"},"üèÜ",-1)),ra={__name:"DataTable",props:{dataSource:{type:Array,default:()=>[]},isRanking:{type:Boolean,default:!1}},emits:["pageChange"],setup(p,{emit:a}){const l=p,e=M({current:1,pageSize:10,total:0,showSizeChanger:!0,showTotal:o=>`ÂÖ± ${o} Êù°`,pageSizeOptions:["5","10","15","20","50"]}),d=()=>{e.total=l.dataSource.length},t=w(()=>{d();const o=(e.current-1)*e.pageSize,c=o+e.pageSize;return l.dataSource.slice(o,c)}),s=w(()=>{if(l.isRanking)return{a:"-",b:"-",c:"-",d:"-"};let o=0,c=0,_=0,b=0;return t.value.forEach(y=>{o+=y.a||0,c+=y.b||0,_+=y.c||0,b+=y.d||0}),{a:o,b:c,c:_,d:b}}),n=w(()=>{if(l.isRanking)return{a:"-",b:"-",c:"-",d:"-"};const o=t.value.length;return o===0?{a:0,b:0,c:0,d:0}:{a:Math.round(s.value.a/o),b:Math.round(s.value.b/o),c:Math.round(s.value.c/o),d:Math.round(s.value.d/o)}}),u=w(()=>{if(!l.isRanking)return{a:"-",b:"-",c:"-",d:"-",e:"-"};const o=["a","b","c","d","e"],c={};return o.forEach(_=>{let b=0,y=0;t.value.forEach(E=>{const R=E[_];R&&R!==0&&R!==""&&(b+=R,y++)}),y>0?c[_]=(b/y).toFixed(1):c[_]="-"}),c}),f=o=>{e.current=o.current,e.pageSize=o.pageSize,a("pageChange",{current:o.current,pageSize:o.pageSize})};let h=document.documentElement.clientWidth;const m=(o,c,_)=>{if(c===0||c===null||c===void 0||c==="")return _==="c"?S("span",{style:{color:"#999",fontStyle:"italic"}},"Âú®‰∏äÂ≠¶"):S("span",{style:{color:"#999"}},"-");let b=[];if((l.isRanking?["a","b","c","d","e"]:["a","b","c","d"]).forEach(U=>{const D=o[U];D&&D!==0&&D!==null&&D!==void 0&&D!==""&&b.push(D)}),b.length===0)return c;let E=Math.max(...b),R=Math.min(...b);const J=l.isRanking?R:E,K=l.isRanking?E:R;return J==c?S("div",{},[S("span",{style:{color:"#2db7f5"}},c),S(ea,{style:{color:"#2db7f5",margin:"0 0 0 2px"}})]):K==c?S("div",{},[S("span",{style:{color:"#f67a6a"}},c),S("img",{src:ta,class:"asdasd",style:h<450?{width:"17px",margin:"0 0 3px 0"}:{width:"20px",margin:"0 0 3px 2px"}})]):c},x=[{title:"Â∫èÂè∑",dataIndex:"index",customRender:({index:o})=>(e.current-1)*e.pageSize+o+1},{title:"ÁãóÂêâ",dataIndex:"a",customRender:({record:o,value:c})=>m(o,c,"a")},{title:"ÁéãËÄÅÊùø",dataIndex:"b",customRender:({record:o,value:c})=>m(o,c,"b")},{title:"ÂàòËÄÅÊùø",dataIndex:"c",customRender:({record:o,value:c})=>m(o,c,"c")},{title:"wber",dataIndex:"d",customRender:({record:o,value:c})=>m(o,c,"d")}],k=w(()=>l.isRanking?[...x,{title:"ÈªëÂ∞èËôé",dataIndex:"e",customRender:({record:o,value:c})=>m(o,c,"e")}]:x);return(o,c)=>{const _=$("a-table-summary-cell"),b=$("a-table-summary-row"),y=$("a-table");return C(),I("div",na,[i(y,{dataSource:t.value,columns:k.value,pagination:e,size:"small",bordered:"",onChange:f},{summary:v(()=>[p.isRanking?(C(),G(b,{key:1,class:"summary-row average-row"},{default:v(()=>[i(_,{class:"summary-label"},{default:v(()=>[oa,L(" "+g(t.value.length)+"Âú∫Âπ≥ÂùáÊéíÂêç ",1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(u.value.a),1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(u.value.b),1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(u.value.c),1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(u.value.d),1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(u.value.e),1)]),_:1})]),_:1})):(C(),I(W,{key:0},[i(b,{class:"summary-row total-row"},{default:v(()=>[i(_,{class:"summary-label"},{default:v(()=>[sa,L(" "+g(t.value.length)+"Âú∫ÊÄª‰º§ÂÆ≥ ",1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(s.value.a),1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(s.value.b),1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(s.value.c),1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(s.value.d),1)]),_:1})]),_:1}),i(b,{class:"summary-row average-row"},{default:v(()=>[i(_,{class:"summary-label"},{default:v(()=>[la,L(" "+g(t.value.length)+"Âú∫Âùá‰º§ ",1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(n.value.a),1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(n.value.b),1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(n.value.c),1)]),_:1}),i(_,{class:"summary-value"},{default:v(()=>[r("span",null,g(n.value.d),1)]),_:1})]),_:1})],64))]),_:1},8,["dataSource","columns","pagination"])])}}},ca=O(ra,[["__scopeId","data-v-d502ea94"]]);const ua={class:"chart-container"},ia={__name:"DataCharts",props:{dataSource:{type:Array,default:()=>[]},isRanking:{type:Boolean,default:!1}},setup(p){const a=p,l=A(!1),e=M({title:{text:"Êã∑ÊâìÂõæÔºàËøë15ÊääÔºâ"},xAxis:{type:"category",data:[]},legend:{data:[],bottom:"bottom"},tooltip:{trigger:"axis"},yAxis:{type:"value",inverse:!1,min:null,max:null},grid:{top:"10%",left:"1%",containLabel:!0},series:[{name:"ÁãóÂêâ",data:[],type:"line"},{name:"ÁéãËÄÅÊùø",data:[],type:"line"},{name:"ÂàòËÄÅÊùø",data:[],type:"line"},{name:"wber",data:[],type:"line"},{name:"ÈªëÂ∞èËôé",data:[],type:"line"}]}),d=()=>{if(!a.dataSource||a.dataSource.length===0){l.value=!1;return}l.value=!1,a.isRanking?(e.yAxis.inverse=!0,e.yAxis.min=1,e.yAxis.max=null,e.title.text="‰∏ãÊ£ãÊéíÂêçÔºàËøë15ÊääÔºâ",e.legend.data=["ÁãóÂêâ","ÁéãËÄÅÊùø","ÂàòËÄÅÊùø","wber","ÈªëÂ∞èËôé"]):(e.yAxis.inverse=!1,e.yAxis.min=null,e.yAxis.max=null,e.title.text="Êã∑ÊâìÂõæÔºàËøë15ÊääÔºâ",e.legend.data=["ÁãóÂêâ","ÁéãËÄÅÊùø","ÂàòËÄÅÊùø","wber"]);const t=a.dataSource.slice(-15);let s=[],n=[],u=[],f=[],h=[];t.forEach(m=>{s.push(m.a||null),n.push(m.b||null),u.push(m.c||null),f.push(m.d||null),h.push(m.e||null)}),e.xAxis.data=t.map((m,x)=>x+1),e.series[0].data=s,e.series[1].data=n,e.series[2].data=u,e.series[3].data=f,a.isRanking?e.series[4].data=h:e.series[4].data=[],setTimeout(()=>{l.value=!0},0)};return B([()=>a.dataSource,()=>a.isRanking],()=>{d()},{immediate:!0,deep:!0}),(t,s)=>(C(),I("div",ua,[i(N,{options:e,isInitCharts:l.value},null,8,["options","isInitCharts"])]))}},da=O(ia,[["__scopeId","data-v-f704662d"]]);const pa={class:"chart-container"},_a={__name:"DataPieChart",props:{dataSource:{type:Array,default:()=>[]},isRanking:{type:Boolean,default:!1}},setup(p){const a=p,l=A(!1),e=w(()=>{if(!a.dataSource||a.dataSource.length===0)return{};let s={ÁãóÂêâ:0,ÁéãËÄÅÊùø:0,ÂàòËÄÅÊùø:0,wber:0,ÈªëÂ∞èËôé:0};return a.dataSource.forEach(n=>{let u=[];if(n.a&&n.a!==0&&n.a!==""&&u.push({name:"ÁãóÂêâ",value:n.a}),n.b&&n.b!==0&&n.b!==""&&u.push({name:"ÁéãËÄÅÊùø",value:n.b}),n.c&&n.c!==0&&n.c!==""&&u.push({name:"ÂàòËÄÅÊùø",value:n.c}),n.d&&n.d!==0&&n.d!==""&&u.push({name:"wber",value:n.d}),a.isRanking&&n.e&&n.e!==0&&n.e!==""&&u.push({name:"ÈªëÂ∞èËôé",value:n.e}),u.length===0)return;const f=a.isRanking?Math.max(...u.map(h=>h.value)):Math.min(...u.map(h=>h.value));u.forEach(h=>{h.value===f&&s[h.name]++})}),s}),d=M({title:{text:"Â∞è‰∏ëÊéíË°åÊ¶ú",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c}Ê¨° ({d}%)"},legend:{bottom:"bottom",data:[]},series:[{name:"Â∞è‰∏ëÊ¨°Êï∞",type:"pie",radius:["30%","70%"],roseType:"area",itemStyle:{borderRadius:8},data:[],label:{show:!0,formatter:"{b}: {c}Ê¨°"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),t=()=>{if(!a.dataSource||a.dataSource.length===0){l.value=!1;return}l.value=!1,d.title.text=a.isRanking?"ËÄÅÂÖ´ÊéíË°åÊ¶ú":"Â∞è‰∏ëÊéíË°åÊ¶ú",d.series[0].name=a.isRanking?"ËÄÅÂÖ´Ê¨°Êï∞":"Â∞è‰∏ëÊ¨°Êï∞";const s=e.value,n=[{value:s.ÁãóÂêâ,name:"ÁãóÂêâ"},{value:s.ÁéãËÄÅÊùø,name:"ÁéãËÄÅÊùø"},{value:s.ÂàòËÄÅÊùø,name:"ÂàòËÄÅÊùø"},{value:s.wber,name:"wber"}];a.isRanking?(n.push({value:s.ÈªëÂ∞èËôé,name:"ÈªëÂ∞èËôé"}),d.legend.data=["ÁãóÂêâ","ÁéãËÄÅÊùø","ÂàòËÄÅÊùø","wber","ÈªëÂ∞èËôé"]):d.legend.data=["ÁãóÂêâ","ÁéãËÄÅÊùø","ÂàòËÄÅÊùø","wber"],d.series[0].data=n,setTimeout(()=>{l.value=!0},0)};return B([()=>a.dataSource,()=>a.isRanking],()=>{t()},{immediate:!0,deep:!0}),(s,n)=>(C(),I("div",pa,[i(N,{options:d,isInitCharts:l.value},null,8,["options","isInitCharts"])]))}},va=O(_a,[["__scopeId","data-v-1af1f9cb"]]),fa="/Joker/assets/b-329b543e.png";const ha={class:"clown-king-container"},ga={class:"title"},ma={class:"clown-content"},ba={class:"clown-image"},ya=["src"],wa={class:"clown-info"},xa={class:"clown-name"},Sa={class:"clown-count"},ka={class:"clown-rate"},Ra={__name:"ClownKing",props:{dataSource:{type:Array,default:()=>[]},isRanking:{type:Boolean,default:!1}},setup(p){const a=p,l=w(()=>{if(!a.dataSource||a.dataSource.length===0)return{};let d={ÁãóÂêâ:0,ÁéãËÄÅÊùø:0,ÂàòËÄÅÊùø:0,wber:0,ÈªëÂ∞èËôé:0};return a.dataSource.forEach(t=>{let s=[];if(t.a&&t.a!==0&&t.a!==""&&s.push({name:"ÁãóÂêâ",value:t.a}),t.b&&t.b!==0&&t.b!==""&&s.push({name:"ÁéãËÄÅÊùø",value:t.b}),t.c&&t.c!==0&&t.c!==""&&s.push({name:"ÂàòËÄÅÊùø",value:t.c}),t.d&&t.d!==0&&t.d!==""&&s.push({name:"wber",value:t.d}),a.isRanking&&t.e&&t.e!==0&&t.e!==""&&s.push({name:"ÈªëÂ∞èËôé",value:t.e}),s.length===0)return;const n=a.isRanking?Math.max(...s.map(u=>u.value)):Math.min(...s.map(u=>u.value));s.forEach(u=>{u.value===n&&d[u.name]++})}),d}),e=w(()=>{const d=l.value;if(!d||Object.keys(d).length===0)return{name:"ÊöÇÊó†Êï∞ÊçÆ",count:0,rate:0};let t=0,s="";Object.entries(d).forEach(([f,h])=>{h>t&&(t=h,s=f)});const n=a.dataSource.length,u=n>0?(t/n*100).toFixed(1):0;return{name:s||"ÊöÇÊó†",count:t,rate:u}});return(d,t)=>(C(),I("div",ha,[r("div",ga,g(p.isRanking?"üé± ËÄÅÂÖ´ üé±":"ü§° Â∞è‰∏ëÁéã ü§°"),1),r("div",ma,[r("div",ba,[r("img",{src:H(fa),alt:"Â∞è‰∏ëÁéã"},null,8,ya)]),r("div",wa,[r("div",xa,g(e.value.name),1),r("div",Sa,"Âû´Â∫ïÊ¨°Êï∞: "+g(e.value.count)+"Ê¨°",1),r("div",ka,"Âû´Â∫ïÁéá: "+g(e.value.rate)+"%",1)])])]))}},Ca=O(Ra,[["__scopeId","data-v-045d2ae4"]]);const z=p=>(T("data-v-0b9067fe"),p=p(),V(),p),Da={class:"page-container"},Ia={class:"page-header"},$a=z(()=>r("h1",{class:"page-title"},"üéÆ Â§ß‰π±Êñó",-1)),Aa=z(()=>r("p",{class:"page-subtitle"},"Ë∞ÅÊâçÊòØÁúüÊ≠£ÁöÑÂ∞è‰∏ëÔºü",-1)),Oa=z(()=>r("h1",{class:"page-title"},"‚ôüÔ∏è ‰∏ãÊ£ã",-1)),Ea=z(()=>r("p",{class:"page-subtitle"},"Ë∞ÅÊâçÊòØÁúüÊ≠£ÁöÑËÄÅÂÖ´Ôºü",-1)),za={class:"charts-grid"},La={class:"chart-item"},Ma={class:"chart-item"},Fa={__name:"kaoda",setup(p){const a=A("daluan"),l=A([]),e=A([]),d=w(()=>a.value==="daluan"?l.value:e.value),t=w(()=>a.value==="xiangqi"),s=async()=>{try{const f="/Joker/",h=localStorage.getItem("data_daluan");if(h)l.value=JSON.parse(h);else{const k=await(await fetch(f+"data.json?time="+Date.now())).json();l.value=k.list}const m=localStorage.getItem("data_xiangqi");if(m)e.value=JSON.parse(m);else{const k=await(await fetch(f+"data2.json?time="+Date.now())).json();e.value=k.list}}catch(f){console.error("Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•:",f)}},n=f=>{f.detail.type==="daluan"?l.value=f.detail.data:f.detail.type==="xiangqi"&&(e.value=f.detail.data)},u=f=>{};return X(()=>{s(),window.addEventListener("dataUpdated",n)}),Q(()=>{window.removeEventListener("dataUpdated",n)}),(f,h)=>{const m=$("a-tab-pane"),x=$("a-tabs");return C(),I("div",Da,[r("div",Ia,[i(x,{activeKey:a.value,"onUpdate:activeKey":h[0]||(h[0]=k=>a.value=k),centered:"",size:"large",class:"custom-tabs"},{default:v(()=>[i(m,{key:"daluan",tab:"üéÆ Â§ß‰π±Êñó"},{default:v(()=>[$a,Aa]),_:1}),i(m,{key:"xiangqi",tab:"‚ôüÔ∏è ‰∏ãÊ£ã"},{default:v(()=>[Oa,Ea]),_:1})]),_:1},8,["activeKey"])]),i(ca,{dataSource:d.value,isRanking:t.value,onPageChange:u},null,8,["dataSource","isRanking"]),r("div",za,[r("div",La,[i(Ca,{dataSource:d.value,isRanking:t.value},null,8,["dataSource","isRanking"])]),r("div",Ma,[i(va,{dataSource:d.value,isRanking:t.value},null,8,["dataSource","isRanking"])])]),i(da,{dataSource:d.value,isRanking:t.value},null,8,["dataSource","isRanking"])])}}},Va=O(Fa,[["__scopeId","data-v-0b9067fe"]]);export{Va as default};
